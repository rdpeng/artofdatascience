<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>The Art of Data Science</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="The book covers R software development for building data science tools. As the field of data science evolves, it has become clear that software development skills are essential for producing useful data science results and products. You will obtain rigorous training in the R language, including the skills for handling complex data, building R packages and developing custom data visualizations. You will learn modern software development practices to build tools that are highly reusable, modular, and suitable for use in a team-based environment or a community of developers.">
  <meta name="generator" content="bookdown 0.3 and GitBook 2.6.7">

  <meta property="og:title" content="The Art of Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://github.com/rdpeng/artofdatascience" />
  <meta property="og:image" content="https://github.com/rdpeng/artofdatasciencetitle_page.png" />
  <meta property="og:description" content="The book covers R software development for building data science tools. As the field of data science evolves, it has become clear that software development skills are essential for producing useful data science results and products. You will obtain rigorous training in the R language, including the skills for handling complex data, building R packages and developing custom data visualizations. You will learn modern software development practices to build tools that are highly reusable, modular, and suitable for use in a team-based environment or a community of developers." />
  <meta name="github-repo" content="rdpeng/artofdatascience" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="The Art of Data Science" />
  
  <meta name="twitter:description" content="The book covers R software development for building data science tools. As the field of data science evolves, it has become clear that software development skills are essential for producing useful data science results and products. You will obtain rigorous training in the R language, including the skills for handling complex data, building R packages and developing custom data visualizations. You will learn modern software development practices to build tools that are highly reusable, modular, and suitable for use in a team-based environment or a community of developers." />
  <meta name="twitter:image" content="https://github.com/rdpeng/artofdatasciencetitle_page.png" />

<meta name="author" content="Roger D. Peng and Elizabeth Matsui">


<meta name="date" content="2017-04-26">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="general-framework.html">
<link rel="next" href="prediction-analyses.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The Art of Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Data Analysis as Art</a></li>
<li class="chapter" data-level="2" data-path="epicycles-of-analysis.html"><a href="epicycles-of-analysis.html"><i class="fa fa-check"></i><b>2</b> Epicycles of Analysis</a><ul>
<li class="chapter" data-level="2.1" data-path="setting-the-scene.html"><a href="setting-the-scene.html"><i class="fa fa-check"></i><b>2.1</b> Setting the Scene</a></li>
<li class="chapter" data-level="2.2" data-path="epicycle-of-analysis.html"><a href="epicycle-of-analysis.html"><i class="fa fa-check"></i><b>2.2</b> Epicycle of Analysis</a></li>
<li class="chapter" data-level="2.3" data-path="setting-expectations.html"><a href="setting-expectations.html"><i class="fa fa-check"></i><b>2.3</b> Setting Expectations</a></li>
<li class="chapter" data-level="2.4" data-path="collecting-information.html"><a href="collecting-information.html"><i class="fa fa-check"></i><b>2.4</b> Collecting Information</a></li>
<li class="chapter" data-level="2.5" data-path="comparing-expectations-to-data.html"><a href="comparing-expectations-to-data.html"><i class="fa fa-check"></i><b>2.5</b> Comparing Expectations to Data</a></li>
<li class="chapter" data-level="2.6" data-path="applying-the-epicycle-of-analysis-process.html"><a href="applying-the-epicycle-of-analysis-process.html"><i class="fa fa-check"></i><b>2.6</b> Applying the Epicycle of Analysis Process</a><ul>
<li class="chapter" data-level="2.6.1" data-path="applying-the-epicycle-of-analysis-process.html"><a href="applying-the-epicycle-of-analysis-process.html#example-asthma-prevalence-in-the-u.s."><i class="fa fa-check"></i><b>2.6.1</b> Example: Asthma prevalence in the U.S.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chapter-question.html"><a href="chapter-question.html"><i class="fa fa-check"></i><b>3</b> Stating and Refining the Question</a><ul>
<li class="chapter" data-level="3.1" data-path="types-of-questions.html"><a href="types-of-questions.html"><i class="fa fa-check"></i><b>3.1</b> Types of Questions</a></li>
<li class="chapter" data-level="3.2" data-path="applying-the-epicycle-to-stating-and-refining-your-question.html"><a href="applying-the-epicycle-to-stating-and-refining-your-question.html"><i class="fa fa-check"></i><b>3.2</b> Applying the Epicycle to Stating and Refining Your Question</a></li>
<li class="chapter" data-level="3.3" data-path="characteristics-of-a-good-question.html"><a href="characteristics-of-a-good-question.html"><i class="fa fa-check"></i><b>3.3</b> Characteristics of a Good Question</a></li>
<li class="chapter" data-level="3.4" data-path="translating-a-question-into-a-data-problem.html"><a href="translating-a-question-into-a-data-problem.html"><i class="fa fa-check"></i><b>3.4</b> Translating a Question into a Data Problem</a></li>
<li class="chapter" data-level="3.5" data-path="case-study.html"><a href="case-study.html"><i class="fa fa-check"></i><b>3.5</b> Case Study</a></li>
<li class="chapter" data-level="3.6" data-path="concluding-thoughts.html"><a href="concluding-thoughts.html"><i class="fa fa-check"></i><b>3.6</b> Concluding Thoughts</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>4</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="exploratory-data-analysis-checklist-a-case-study.html"><a href="exploratory-data-analysis-checklist-a-case-study.html"><i class="fa fa-check"></i><b>4.1</b> Exploratory Data Analysis Checklist: A Case Study</a></li>
<li class="chapter" data-level="4.2" data-path="formulate-your-question.html"><a href="formulate-your-question.html"><i class="fa fa-check"></i><b>4.2</b> Formulate your question</a></li>
<li class="chapter" data-level="4.3" data-path="read-in-your-data.html"><a href="read-in-your-data.html"><i class="fa fa-check"></i><b>4.3</b> Read in your data</a></li>
<li class="chapter" data-level="4.4" data-path="check-the-packaging.html"><a href="check-the-packaging.html"><i class="fa fa-check"></i><b>4.4</b> Check the Packaging</a></li>
<li class="chapter" data-level="4.5" data-path="look-at-the-top-and-the-bottom-of-your-data.html"><a href="look-at-the-top-and-the-bottom-of-your-data.html"><i class="fa fa-check"></i><b>4.5</b> Look at the Top and the Bottom of your Data</a></li>
<li class="chapter" data-level="4.6" data-path="abc-always-be-checking-your-ns.html"><a href="abc-always-be-checking-your-ns.html"><i class="fa fa-check"></i><b>4.6</b> ABC: Always be Checking Your “n”s</a></li>
<li class="chapter" data-level="4.7" data-path="validate-with-at-least-one-external-data-source.html"><a href="validate-with-at-least-one-external-data-source.html"><i class="fa fa-check"></i><b>4.7</b> Validate With at Least One External Data Source</a></li>
<li class="chapter" data-level="4.8" data-path="make-a-plot.html"><a href="make-a-plot.html"><i class="fa fa-check"></i><b>4.8</b> Make a Plot</a></li>
<li class="chapter" data-level="4.9" data-path="try-the-easy-solution-first.html"><a href="try-the-easy-solution-first.html"><i class="fa fa-check"></i><b>4.9</b> Try the Easy Solution First</a><ul>
<li class="chapter" data-level="4.9.1" data-path="try-the-easy-solution-first.html"><a href="try-the-easy-solution-first.html#challenge-your-solution"><i class="fa fa-check"></i><b>4.9.1</b> Challenge Your Solution</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="follow-up-questions.html"><a href="follow-up-questions.html"><i class="fa fa-check"></i><b>4.10</b> Follow-up Questions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="using-models-to-explore-your-data.html"><a href="using-models-to-explore-your-data.html"><i class="fa fa-check"></i><b>5</b> Using Models to Explore Your Data</a><ul>
<li class="chapter" data-level="5.1" data-path="models-as-expectations.html"><a href="models-as-expectations.html"><i class="fa fa-check"></i><b>5.1</b> Models as Expectations</a><ul>
<li class="chapter" data-level="5.1.1" data-path="models-as-expectations.html"><a href="models-as-expectations.html#applying-the-normal-model"><i class="fa fa-check"></i><b>5.1.1</b> Applying the normal model</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="comparing-model-expectations-to-reality.html"><a href="comparing-model-expectations-to-reality.html"><i class="fa fa-check"></i><b>5.2</b> Comparing Model Expectations to Reality</a><ul>
<li class="chapter" data-level="5.2.1" data-path="comparing-model-expectations-to-reality.html"><a href="comparing-model-expectations-to-reality.html#drawing-a-fake-picture"><i class="fa fa-check"></i><b>5.2.1</b> Drawing a fake picture</a></li>
<li class="chapter" data-level="5.2.2" data-path="comparing-model-expectations-to-reality.html"><a href="comparing-model-expectations-to-reality.html#the-real-picture"><i class="fa fa-check"></i><b>5.2.2</b> The real picture</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="reacting-to-data-refining-our-expectations.html"><a href="reacting-to-data-refining-our-expectations.html"><i class="fa fa-check"></i><b>5.3</b> Reacting to Data: Refining Our Expectations</a></li>
<li class="chapter" data-level="5.4" data-path="examining-linear-relationships.html"><a href="examining-linear-relationships.html"><i class="fa fa-check"></i><b>5.4</b> Examining Linear Relationships</a><ul>
<li class="chapter" data-level="5.4.1" data-path="examining-linear-relationships.html"><a href="examining-linear-relationships.html#expectations"><i class="fa fa-check"></i><b>5.4.1</b> Expectations</a></li>
<li class="chapter" data-level="5.4.2" data-path="examining-linear-relationships.html"><a href="examining-linear-relationships.html#comparing-expectations-to-data-1"><i class="fa fa-check"></i><b>5.4.2</b> Comparing expectations to data</a></li>
<li class="chapter" data-level="5.4.3" data-path="examining-linear-relationships.html"><a href="examining-linear-relationships.html#refining-expectations"><i class="fa fa-check"></i><b>5.4.3</b> Refining expectations</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="when-do-we-stop.html"><a href="when-do-we-stop.html"><i class="fa fa-check"></i><b>5.5</b> When Do We Stop?</a><ul>
<li class="chapter" data-level="5.5.1" data-path="when-do-we-stop.html"><a href="when-do-we-stop.html#are-you-out-of-data"><i class="fa fa-check"></i><b>5.5.1</b> Are you out of data?</a></li>
<li class="chapter" data-level="5.5.2" data-path="when-do-we-stop.html"><a href="when-do-we-stop.html#do-you-have-enough-evidence-to-make-a-decision"><i class="fa fa-check"></i><b>5.5.2</b> Do you have enough evidence to make a decision?</a></li>
<li class="chapter" data-level="5.5.3" data-path="when-do-we-stop.html"><a href="when-do-we-stop.html#can-you-place-your-results-in-any-larger-context"><i class="fa fa-check"></i><b>5.5.3</b> Can you place your results in any larger context?</a></li>
<li class="chapter" data-level="5.5.4" data-path="when-do-we-stop.html"><a href="when-do-we-stop.html#are-you-out-of-time"><i class="fa fa-check"></i><b>5.5.4</b> Are you out of time?</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>5.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chapter-inference.html"><a href="chapter-inference.html"><i class="fa fa-check"></i><b>6</b> Inference: A Primer</a><ul>
<li class="chapter" data-level="6.1" data-path="identify-the-population.html"><a href="identify-the-population.html"><i class="fa fa-check"></i><b>6.1</b> Identify the population</a></li>
<li class="chapter" data-level="6.2" data-path="describe-the-sampling-process.html"><a href="describe-the-sampling-process.html"><i class="fa fa-check"></i><b>6.2</b> Describe the sampling process</a></li>
<li class="chapter" data-level="6.3" data-path="describe-a-model-for-the-population.html"><a href="describe-a-model-for-the-population.html"><i class="fa fa-check"></i><b>6.3</b> Describe a model for the population</a></li>
<li class="chapter" data-level="6.4" data-path="a-quick-example.html"><a href="a-quick-example.html"><i class="fa fa-check"></i><b>6.4</b> A Quick Example</a></li>
<li class="chapter" data-level="6.5" data-path="factors-affecting-the-quality-of-inference.html"><a href="factors-affecting-the-quality-of-inference.html"><i class="fa fa-check"></i><b>6.5</b> Factors Affecting the Quality of Inference</a></li>
<li class="chapter" data-level="6.6" data-path="example-apple-music-usage.html"><a href="example-apple-music-usage.html"><i class="fa fa-check"></i><b>6.6</b> Example: Apple Music Usage</a></li>
<li class="chapter" data-level="6.7" data-path="populations-come-in-many-forms.html"><a href="populations-come-in-many-forms.html"><i class="fa fa-check"></i><b>6.7</b> Populations Come in Many Forms</a><ul>
<li class="chapter" data-level="6.7.1" data-path="populations-come-in-many-forms.html"><a href="populations-come-in-many-forms.html#time-series"><i class="fa fa-check"></i><b>6.7.1</b> Time series</a></li>
<li class="chapter" data-level="6.7.2" data-path="populations-come-in-many-forms.html"><a href="populations-come-in-many-forms.html#natural-processes"><i class="fa fa-check"></i><b>6.7.2</b> Natural processes</a></li>
<li class="chapter" data-level="6.7.3" data-path="populations-come-in-many-forms.html"><a href="populations-come-in-many-forms.html#data-as-population"><i class="fa fa-check"></i><b>6.7.3</b> Data as population</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chapter-formal.html"><a href="chapter-formal.html"><i class="fa fa-check"></i><b>7</b> Formal Modeling</a><ul>
<li class="chapter" data-level="7.1" data-path="what-are-the-goals-of-formal-modeling.html"><a href="what-are-the-goals-of-formal-modeling.html"><i class="fa fa-check"></i><b>7.1</b> What Are the Goals of Formal Modeling?</a></li>
<li class="chapter" data-level="7.2" data-path="general-framework.html"><a href="general-framework.html"><i class="fa fa-check"></i><b>7.2</b> General Framework</a><ul>
<li class="chapter" data-level="7.2.1" data-path="general-framework.html"><a href="general-framework.html#primary-model"><i class="fa fa-check"></i><b>7.2.1</b> Primary model</a></li>
<li class="chapter" data-level="7.2.2" data-path="general-framework.html"><a href="general-framework.html#secondary-models"><i class="fa fa-check"></i><b>7.2.2</b> Secondary models</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="associational-analyses.html"><a href="associational-analyses.html"><i class="fa fa-check"></i><b>7.3</b> Associational Analyses</a><ul>
<li class="chapter" data-level="7.3.1" data-path="associational-analyses.html"><a href="associational-analyses.html#example-online-advertising-campaign"><i class="fa fa-check"></i><b>7.3.1</b> Example: Online advertising campaign</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="prediction-analyses.html"><a href="prediction-analyses.html"><i class="fa fa-check"></i><b>7.4</b> Prediction Analyses</a></li>
<li class="chapter" data-level="7.5" data-path="summary-1.html"><a href="summary-1.html"><i class="fa fa-check"></i><b>7.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="inference-vs-prediction-implications-for-modeling-strategy.html"><a href="inference-vs-prediction-implications-for-modeling-strategy.html"><i class="fa fa-check"></i><b>8</b> Inference vs. Prediction: Implications for Modeling Strategy</a><ul>
<li class="chapter" data-level="8.1" data-path="air-pollution-and-mortality-in-new-york-city.html"><a href="air-pollution-and-mortality-in-new-york-city.html"><i class="fa fa-check"></i><b>8.1</b> Air Pollution and Mortality in New York City</a></li>
<li class="chapter" data-level="8.2" data-path="inferring-an-association.html"><a href="inferring-an-association.html"><i class="fa fa-check"></i><b>8.2</b> Inferring an Association</a></li>
<li class="chapter" data-level="8.3" data-path="predicting-the-outcome.html"><a href="predicting-the-outcome.html"><i class="fa fa-check"></i><b>8.3</b> Predicting the Outcome</a></li>
<li class="chapter" data-level="8.4" data-path="summary-2.html"><a href="summary-2.html"><i class="fa fa-check"></i><b>8.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chapter-interpretation.html"><a href="chapter-interpretation.html"><i class="fa fa-check"></i><b>9</b> Interpreting Your Results</a><ul>
<li class="chapter" data-level="9.1" data-path="principles-of-interpretation.html"><a href="principles-of-interpretation.html"><i class="fa fa-check"></i><b>9.1</b> Principles of Interpretation</a></li>
<li class="chapter" data-level="9.2" data-path="case-study-non-diet-soda-consumption-and-body-mass-index.html"><a href="case-study-non-diet-soda-consumption-and-body-mass-index.html"><i class="fa fa-check"></i><b>9.2</b> Case Study: Non-diet Soda Consumption and Body Mass Index</a><ul>
<li class="chapter" data-level="9.2.1" data-path="case-study-non-diet-soda-consumption-and-body-mass-index.html"><a href="case-study-non-diet-soda-consumption-and-body-mass-index.html#revisit-the-question"><i class="fa fa-check"></i><b>9.2.1</b> Revisit the Question</a></li>
<li class="chapter" data-level="9.2.2" data-path="case-study-non-diet-soda-consumption-and-body-mass-index.html"><a href="case-study-non-diet-soda-consumption-and-body-mass-index.html#start-with-the-primary-model-and-assess-the-directionality-magnitude-and-uncertainty-of-the-result"><i class="fa fa-check"></i><b>9.2.2</b> Start with the primary model and assess the directionality, magnitude, and uncertainty of the result</a></li>
<li class="chapter" data-level="9.2.3" data-path="case-study-non-diet-soda-consumption-and-body-mass-index.html"><a href="case-study-non-diet-soda-consumption-and-body-mass-index.html#develop-an-overall-interpretation-by-considering-the-totality-of-your-analyses-and-external-information"><i class="fa fa-check"></i><b>9.2.3</b> Develop an overall interpretation by considering the totality of your analyses and external information</a></li>
<li class="chapter" data-level="9.2.4" data-path="case-study-non-diet-soda-consumption-and-body-mass-index.html"><a href="case-study-non-diet-soda-consumption-and-body-mass-index.html#implications"><i class="fa fa-check"></i><b>9.2.4</b> Implications</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="chapter-communication.html"><a href="chapter-communication.html"><i class="fa fa-check"></i><b>10</b> Communication</a><ul>
<li class="chapter" data-level="10.1" data-path="routine-communication.html"><a href="routine-communication.html"><i class="fa fa-check"></i><b>10.1</b> Routine communication</a></li>
<li class="chapter" data-level="10.2" data-path="the-audience.html"><a href="the-audience.html"><i class="fa fa-check"></i><b>10.2</b> The Audience</a></li>
<li class="chapter" data-level="10.3" data-path="content.html"><a href="content.html"><i class="fa fa-check"></i><b>10.3</b> Content</a></li>
<li class="chapter" data-level="10.4" data-path="style.html"><a href="style.html"><i class="fa fa-check"></i><b>10.4</b> Style</a></li>
<li class="chapter" data-level="10.5" data-path="attitude.html"><a href="attitude.html"><i class="fa fa-check"></i><b>10.5</b> Attitude</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="about-the-authors.html"><a href="about-the-authors.html"><i class="fa fa-check"></i><b>11</b> About the Authors</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Art of Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="associational-analyses" class="section level2">
<h2><span class="header-section-number">7.3</span> Associational Analyses</h2>
<p>Associational analyses are ones where we are looking at an association between two or more features in the presence of other potentially confounding factors. There are three classes of variables that are important to think about in an associational analysis.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Outcome</strong>. The outcome is the feature of your dataset that is thought to change along with your <strong>key predictor</strong>. Even if you are not asking a causal or mechanistic question, so you don’t necessarily believe that the outcome <em>responds</em> to changes in the key predictor, an outcome still needs to be defined for most formal modeling approaches.</p></li>
<li><p><strong>Key predictor</strong>. Often for associational analyses there is one key predictor of interest (there may be a few of them). We want to know how the outcome changes with this key predictor. However, our understanding of that relationship may be challenged by the presence of potential confounders.</p></li>
<li><p><strong>Potential confounders</strong>. This is a large class of predictors that are both related to the key predictor and the outcome. It’s important to have a good understanding what these are and whether they are available in your dataset. If a key confounder is not available in the dataset, sometimes there will be a proxy that is related to that key confounder that can be substituted instead.</p></li>
</ol>
<p>Once you have identified these three classes of variables in your dataset, you can start to think about formal modeling in an associational setting.</p>
<p>The basic form of a model in an associational analysis will be</p>
<p><span class="math display">\[
y = \alpha + \beta x + \gamma z + \varepsilon
\]</span></p>
<p>where</p>
<ul>
<li><span class="math inline">\(y\)</span> is the outcome</li>
<li><span class="math inline">\(x\)</span> is the key predictor</li>
<li><span class="math inline">\(z\)</span> is a potential confounder</li>
<li><span class="math inline">\(\varepsilon\)</span> is independent random error</li>
<li><span class="math inline">\(\alpha\)</span> is the intercept, i.e. the value <span class="math inline">\(y\)</span> when <span class="math inline">\(x=0\)</span> and <span class="math inline">\(z=0\)</span></li>
<li><span class="math inline">\(\beta\)</span> is the change in <span class="math inline">\(y\)</span> associated with a 1-unit increase <span class="math inline">\(x\)</span>, adjusting for <span class="math inline">\(z\)</span></li>
<li><span class="math inline">\(\gamma\)</span> is the change in <span class="math inline">\(y\)</span> associated with a 1-unit increase in <span class="math inline">\(z\)</span>, adjusting for <span class="math inline">\(x\)</span></li>
</ul>
<p>This is a linear model, and our primary interest is in estimating the coefficient <span class="math inline">\(\beta\)</span>, which quantifies the relationship between the key predictor <span class="math inline">\(x\)</span> and the outcome <span class="math inline">\(y\)</span>.</p>
<p>Even though we will have to estimate <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\gamma\)</span> as part of the process of estimating <span class="math inline">\(\beta\)</span>, we do not really care about the values of those <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\gamma\)</span>. In the statistical literature, coefficients like <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\gamma\)</span> are sometimes referred to as <em>nuisance parameters</em> because we have to use the data to estimate them to complete the model specification, but we do not actually care about their value.</p>
<p>The model shown above could be thought of as the primary model. There is a key predictor and one confounder in the model where it is perhaps well known that you should adjust for that confounder. This model may produce sensible results and follows what is generally known in the area.</p>
<div id="example-online-advertising-campaign" class="section level3">
<h3><span class="header-section-number">7.3.1</span> Example: Online advertising campaign</h3>
<p>Suppose we are selling a new product on the web and we are interested in whether buying advertisements on Facebook helps to increase the sales of that product. To start, we might initiate a 1-week pilot advertising campaign on Facebook and gauge the success of that campaign. If it were successful, we might continue to buy ads for the product.</p>
<p>One simple approach might be to track daily sales before, during, and after the advertising campaign (note that there are more precise ways to do this with tracking URLs and Google Analytics, but let’s leave that aside for now). Put simply, if the campaign were a week long, we could look at the week before, the week during, and the week after to see if there were any shifts in the daily sales.</p>
<div id="expectations-1" class="section level4">
<h4><span class="header-section-number">7.3.1.1</span> Expectations</h4>
<p>In an ideal world, the data might look something like this.</p>
<div class="figure"><span id="fig:unnamed-chunk-2"></span>
<img src="images/formal-unnamed-chunk-2-1.png" alt="Hypothetical Advertising Campaign" width="672" />
<p class="caption">
Figure 7.1: Hypothetical Advertising Campaign
</p>
</div>
<p>The tick marks on the x-axis indicate the period when the campaign was active. In this case, it’s pretty obvious what effect the advertising campaign had on sales. Using just your eyes, it’s possible to tell that the ad campaign added about $100 per day to total daily sales. Your primary model might look something like</p>
<p><span class="math display">\[
y = \alpha + \beta x + \varepsilon
\]</span></p>
<p>where <span class="math inline">\(y\)</span> is total daily sales and <span class="math inline">\(x\)</span> is and indicator of whether a given day fell during the ad campaign or not. The hypothetical data for the plot above might look as follows.</p>
<pre><code>      sales campaign day
1  193.7355        0   1
2  201.8364        0   2
3  191.6437        0   3
4  215.9528        0   4
5  203.2951        0   5
6  191.7953        0   6
7  204.8743        0   7
8  307.3832        1   8
9  305.7578        1   9
10 296.9461        1  10
11 315.1178        1  11
12 303.8984        1  12
13 293.7876        1  13
14 277.8530        1  14
15 211.2493        0  15
16 199.5507        0  16
17 199.8381        0  17
18 209.4384        0  18
19 208.2122        0  19
20 205.9390        0  20
21 209.1898        0  21</code></pre>
<p>Given this data and the primary model above, we’d estimate <span class="math inline">\(\beta\)</span> to be $96.78, which is not far off from our original guess of $100.</p>
<p><strong>Setting Expectations</strong>. The discussion of this ideal scenario is important not because it’s at all likely to occur, but rather because it instructs on what we would <em>expect</em> to see if the world operated according to a simpler framework and how we would analyze the data under those expectations.</p>
</div>
<div id="more-realistic-data" class="section level4">
<h4><span class="header-section-number">7.3.1.2</span> More realistic data</h4>
<p>Unfortunately, we rarely see data like the plot above. In reality, the effect sizes tend to be smaller, the noise tends to be higher, and there tend to be other factors at play. Typically, the data will look something like this.</p>
<div class="figure"><span id="fig:unnamed-chunk-5"></span>
<img src="images/formal-unnamed-chunk-5-1.png" alt="More Realistic Daily Sales Data" width="672" />
<p class="caption">
Figure 5.2: More Realistic Daily Sales Data
</p>
</div>
<p>While it does appear that there is an increase in sales during the period of the ad campaign (indicated by the tick marks again), it’s a bit difficult to argue that the increased sales are <em>caused</em> by the campaign. Indeed, in the days before the campaign starts, there appears to be a slight increase in sales. Is that by chance or are there other trends going on in the background? It’s possible that there is a smooth background trend so that daily sales tend to go up and down throughout the month. Hence, even without the ad campaign in place, it’s possible we would have seen an increase in sales anyway. The question now is whether the ad campaign increased daily sales <em>on top of</em> this existing background trend.</p>
<p>Let’s take our primary model, which just includes the outcome and the indicator of our ad campaign as a key predictor. Using that model we estimate <span class="math inline">\(\beta\)</span>, the increase in daily sales due to the ad campaign, to be $44.75.</p>
<p>However, suppose we incorporated a background trend into our model, so instead of our primary model, we fit the following.</p>
<p><span class="math display">\[
y = \alpha + \beta x + \gamma_1 t + \gamma_2 t^2 + \varepsilon
\]</span></p>
<p>where <span class="math inline">\(t\)</span> now indicates the day number (i.e. <span class="math inline">\(1,2,\dots,21\)</span>). What we have done is add a quadratic function of <span class="math inline">\(t\)</span> to the model to allow for some curvature in the trend (as opposed to a linear function that would only allow for a strictly increasing or decreasing pattern). Using this model we estimate <span class="math inline">\(\beta\)</span> to be $39.86, which is somewhat less than what the primary model estimated for <span class="math inline">\(\beta\)</span>.</p>
<p>We can fit one final model, which allows for an even more flexible background trend–we use a 4th order polynomial to represent that trend. Although we might find our quadratic model to be sufficiently complex, the purpose of this last model is to just push the envelope a little bit to see how things change in more extreme circumstances. This model gives us an estimate of <span class="math inline">\(\beta\)</span> of $49.1, which is in fact larger than the estimate from our primary model.</p>
<p>At this point we have a primary model and two secondary models, which give somewhat different estimates of the association between our ad campaign and daily total sales.</p>
<table>
<thead>
<tr class="header">
<th>Model</th>
<th>Features</th>
<th align="right">Estimate for <span class="math inline">\(\beta\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Model 1 (primary)</td>
<td>No confounders</td>
<td align="right">$44.75</td>
</tr>
<tr class="even">
<td>Model 2 (secondary)</td>
<td>Quadratic time trend</td>
<td align="right">$39.86</td>
</tr>
<tr class="odd">
<td>Model 3 (secondary)</td>
<td>4th order time trend</td>
<td align="right">$49.1</td>
</tr>
</tbody>
</table>
</div>
<div id="evaluation" class="section level4">
<h4><span class="header-section-number">7.3.1.3</span> Evaluation</h4>
<p>Determining where to go from here may depend on factors outside of the dataset. Some typical considerations are</p>
<ol style="list-style-type: decimal">
<li><p><strong>Effect size</strong>. The three models present a range of estimates from $39.86 to $49.1. Is this a large range? It’s possible that for your organization a range of this magnitude is not large enough to really make a difference and so all of the models might be considered equivalent. Or you might consider these 3 estimates to be significantly different from each other, in which case you might put more weight on one model over another. Another factor might be the cost of the advertising campaign, in which case you would be interested in the return on your investment in the ads. An increase in $39.86 per day might be worth it if the total ad cost were $10 per day, but maybe not if the cost were $20 per day. Then, you might need the increase in sales to be higher to make the campaign worthwhile. The point here is that there’s some evidence from your formal model that the ad campaign might only increase your total daily sales by 39.86, however, other evidence says it might be higher. The question is whether you think it is worth the risk to buy more ads, given the range of possibilities, or whether you think that even at the higher end, it’s probably not worth it.</p></li>
<li><p><strong>Plausibility</strong>. Although you may fit a series of models for the purposes of challenging your primary model, it may be the case that some models are more plausible than others, in terms of being close to whatever the “truth” about the population is. Here, the model with a quadratic trend seems plausible because it is capable of capturing a possible rise-and-fall pattern in the data, if one were present. The model with the 4th order polynomial is similarly capable of capturing this pattern, but seems overly complex for characterizing a simple pattern like that. Whether a model could be considered more or less plausible will depend on your knowledge of the subject matter and your ability to map real-world events to the mathematical formulation of the model. You may need to consult with other experts in this area to assess the plausibility of various models.</p></li>
<li><p><strong>Parsimony</strong>. In the case where the different models all tell the same story (i.e. the estimates are <span class="math inline">\(\beta\)</span> are close enough together to be considered “the same”), it’s often preferable to choose the model that is simplest. There are two reasons for this. First, with a simpler model it can be easier to tell a story about what is going on in the data via the various parameters in the model. For example, it’s easier to explain a linear trend than it is to explain an exponential trend. Second, simpler models, from a statistical perspective, are more “efficient”, so that they make better use of the data per parameter that is being estimated. Complexity in a statistical model generally refers to the number of parameters in the model–in this example the primary model has 2 parameters, whereas the most complex model has 6 parameters. If no model produces better results than another, we might prefer a model that only contains 2 parameters because it is simpler to describe and is more parsimonious. If the primary and secondary models produce significant differences, then might choose a parsimonious model over a more complex model, but not if the more complex model tells a more compelling story.</p></li>
</ol>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="general-framework.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="prediction-analyses.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
